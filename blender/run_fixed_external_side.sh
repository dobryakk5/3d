#!/bin/bash

# Скрипт запуска с исправленным определением уличной стороны внешних стен
echo "Запуск с исправленным определением уличной стороны внешних стен"
echo "============================================================"

# Переходим в директорию со скриптами
cd "$(dirname "$0")"

echo "Шаг 1: Расширение JSON файла новыми полями..."
python extend_openings_json.py

echo ""
echo "Шаг 2: Исправление высоты всех окон до 65 см..."
python fix_all_windows_height.py

echo ""
echo "Шаг 3: Инвертирование координат в JSON файле..."
python invert_json_coordinates.py

echo ""
echo "Шаг 4: Создание 3D стен с исправленным определением уличной стороны..."
/Applications/Blender.app/Contents/MacOS/Blender --background --python create_walls_2m.py

echo ""
echo "============================================================"
echo "РЕЗУЛЬТАТЫ:"
echo "1. JSON файл расширен полями bottom_height и opening_height"
echo "2. Все окна установлены на высоту 65 см от пола"
echo "3. Координаты в JSON файле инвертированы"
echo "4. Инверсия в коде отключена (invert_x = False)"
echo "5. Созданы заглушки для всех проемов"
echo "6. Внешние стены имеют желтый цвет только на уличной стороне"
echo "7. Внутренние стороны внешних стен остаются серыми"
echo "8. Создан изометрический рендер: wall_coordinates_isometric.jpg"
echo "9. Экспортирован OBJ файл: wall_coordinates_3d.obj"
echo ""
echo "Запуск с исправленным определением уличной стороны завершен!"
echo "============================================================"